{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Posts.module.css","components/Profile/MyPosts/Post/Posts.jsx","components/Profile/MyPosts/AddNewPostsForm/AddNewPostsForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","Posts","props","profile","className","s","item","src","photos","small","userPhoto","message","likeCount","maxLength30","maxLengthCreator","AddNewPostsFormReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","name","component","Textarea","validate","required","MyPosts","React","memo","postsElement","posts","map","el","postsBlock","value","addPost","newPostText","MyPostsContainer","connect","state","profilePage","dispatch","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","ProfileInfo","updateUsersStatus","descriptionBlock","large","Profile","ProfileContainer","userId","this","match","params","myUserId","history","getUsersProfile","getUsersStatus","Component","compose","auth","isAuth","withRouter","withAuthRedirect"],"mappings":"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","file":"static/js/3.1ada2a84.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"ProfileInfo_img__1X_oK\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__oZUJH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1vkru\",\"posts\":\"MyPosts_posts__GA3cM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Posts_item__21rXZ\"};","import React from 'react';\r\nimport s from './Posts.module.css';\r\nimport userPhoto from \"../../../../assets/image/imgUser.png\";\r\nimport Preloader from \"../../../common/preloader/preloader\";\r\n\r\nconst Posts = (props) => {\r\n    if (!props.profile)\r\n        return <Preloader/>;\r\n    return (\r\n        <div className={s.item}>\r\n            <img src={props.profile.photos.small != null ? props.profile.photos.small : userPhoto}/>\r\n            {props.message}\r\n            <div>\r\n                <span>like {props.likeCount}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Posts;","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nconst AddNewPostsForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'Enter your post'} name={'newPostText'} component={Textarea}\r\n                       validate={[required, maxLength30]}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nexport const AddNewPostsFormReduxForm = reduxForm({form: 'ProfileAddNewPostsForm'})(AddNewPostsForm);","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Posts from './Post/Posts';\r\nimport {AddNewPostsFormReduxForm} from \"./AddNewPostsForm/AddNewPostsForm\";\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    let postsElement = props.posts.map(el => <Posts profile={props.profile} message={el.message}\r\n                                                    likeCount={el.likeCount}/>);\r\n    let onAddPost = (value) => {\r\n        props.addPost(value.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My post</h3>\r\n            <AddNewPostsFormReduxForm onSubmit={onAddPost}/>\r\n            <div className={s.posts}>\r\n                {postsElement}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPost} from \"../../../Redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => dispatch(addPost(newPostText))\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, {useEffect, useState} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => setStatus(props.status), [props.status]);\r\n\r\n    const activateEditMode = () => setEditMode(true);\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const onStatusChange = e => setStatus(e.currentTarget.value);\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || 'no status'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input autoFocus={true} onBlur={deactivateEditMode} onChange={onStatusChange} value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/preloader/preloader\";\r\nimport userPhoto from '../../../assets/image/imgUser.png';\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({profile, status, updateUsersStatus}) => {\r\n    if (!profile)\r\n        return <Preloader/>;\r\n    return (\r\n        <div>\r\n            <div className={s.descriptionBlock}>\r\n                <img src={profile.photos.large != null ? profile.photos.large : userPhoto}/>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateUsersStatus}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateUsersStatus={props.updateUsersStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUsersProfile, getUsersStatus, updateUsersStatus} from \"../../Redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n\r\n        if (!userId) {\r\n            userId = this.props.myUserId;\r\n            if (!userId) {\r\n                this.props.history.push('/login');\r\n            }\r\n        }\r\n\r\n        this.props.getUsersProfile(userId);\r\n        this.props.getUsersStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props} profile={this.props.profile} status={this.props.status}\r\n                        updateUsersStatus={this.props.updateUsersStatus}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = state => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    myUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUsersProfile, getUsersStatus, updateUsersStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}